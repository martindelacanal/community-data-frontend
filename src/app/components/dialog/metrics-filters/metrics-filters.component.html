<div class="container">
  <div class="dialog-body">
    <p>{{'metrics_filters_title_registration_dates' | translate }}</p>
    <form [formGroup]="filterForm">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>{{'dialog_download_ticket_csv_input_from_date' | translate }}</mat-label>
        <input matInput [matDatepicker]="miPicker1" formControlName="from_date" (blur)="formatDateOnBlur($event, 'from_date')" (input)="formatDate($event, 'from_date')" (focus)="formatDateOnFocus($event)"
          maxlength="10" placeholder="01/31/2024">
        <mat-hint>{{'login_recover_password_input_date_of_birth_format' | translate }}</mat-hint>
        <mat-datepicker-toggle matSuffix [for]="miPicker1"></mat-datepicker-toggle>
        <mat-datepicker #miPicker1></mat-datepicker>
        <!-- <mat-error *ngIf="filterForm.controls['from_date'].hasError('required')">
          {{'dialog_download_ticket_csv_input_date_error' | translate }}
        </mat-error> -->
      </mat-form-field>
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>{{'dialog_download_ticket_csv_input_to_date' | translate }}</mat-label>
        <input matInput [matDatepicker]="miPicker2" formControlName="to_date" (blur)="formatDateOnBlur($event, 'to_date')" (input)="formatDate($event, 'to_date')" (focus)="formatDateOnFocus($event)"
          maxlength="10" placeholder="01/31/2024">
        <mat-hint>{{'login_recover_password_input_date_of_birth_format' | translate }}</mat-hint>
        <mat-datepicker-toggle matSuffix [for]="miPicker2"></mat-datepicker-toggle>
        <mat-datepicker #miPicker2></mat-datepicker>
        <!-- <mat-error *ngIf="filterForm.controls['to_date'].hasError('required')">
          {{'dialog_download_ticket_csv_input_date_error' | translate }}
        </mat-error> -->
      </mat-form-field>

      <div *ngIf="this.origin !== 'table-ethnicity' && this.origin !== 'table-gender' && this.origin !== 'table-location' && this.origin !== 'table-delivered-beneficiary-summary' && this.origin !== 'table-ticket'">
        <br><br>
        <p>{{'metrics_filters_title_locations' | translate }}</p>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>{{'metrics_filters_input_locations' | translate }}</mat-label>
          <mat-select #filterLocations formControlName="locations" multiple>
            <mat-option [value]="0" (click)="toggleAllSelection(filterLocations, 'locations')"><b>{{this.selectAllTextLocations}}</b></mat-option>
            <mat-option *ngFor="let location of locations" [value]="location.id">
              {{location.community_city}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div *ngIf="this.origin !== 'table-client' && this.origin !== 'table-ethnicity' && this.origin !== 'table-gender' && this.origin !== 'table-location' && this.origin !== 'table-delivered' && this.origin !== 'table-delivered-beneficiary-summary' && this.origin !== 'table-ticket'">
        <br>
        <p>{{'metrics_filters_title_genders' | translate }}</p>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>{{'metrics_filters_input_genders' | translate }}</mat-label>
          <mat-select #filterGenders formControlName="genders" multiple>
            <mat-option [value]="0" (click)="toggleAllSelection(filterGenders, 'genders')"><b>{{this.selectAllTextGenders}}</b></mat-option>
            <mat-option *ngFor="let gender of genders" [value]="gender.id">
              {{gender.name}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div *ngIf="this.origin !== 'table-client' && this.origin !== 'table-ethnicity' && this.origin !== 'table-gender' && this.origin !== 'table-location' && this.origin !== 'table-delivered' && this.origin !== 'table-delivered-beneficiary-summary' && this.origin !== 'table-ticket'">
        <br>
        <p>{{'metrics_filters_title_ethnicities' | translate }}</p>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>{{'metrics_filters_input_ethnicities' | translate }}</mat-label>
          <mat-select #filterEthnicities formControlName="ethnicities" multiple>
            <mat-option [value]="0" (click)="toggleAllSelection(filterEthnicities, 'ethnicities')"><b>{{this.selectAllTextEthnicities}}</b></mat-option>
            <mat-option *ngFor="let ethnicity of ethnicities" [value]="ethnicity.id">
              {{ethnicity.name}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div *ngIf="this.origin !== 'table-client' && this.origin !== 'table-ethnicity' && this.origin !== 'table-gender' && this.origin !== 'table-location' && this.origin !== 'table-delivered' && this.origin !== 'table-delivered-beneficiary-summary' && this.origin !== 'table-ticket'">
        <br>
        <p>{{'metrics_filters_title_zipcode' | translate }}</p>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>{{'register_first_tab_input_zip_code' | translate }}</mat-label>
          <input matInput type="number" formControlName="zipcode" matNumberInput>
        </mat-form-field>
      </div>

      <div *ngIf="this.origin !== 'table-client' && this.origin !== 'table-ethnicity' && this.origin !== 'table-gender' && this.origin !== 'table-location' && this.origin !== 'table-delivered' && this.origin !== 'table-delivered-beneficiary-summary' && this.origin !== 'table-ticket'">
        <br>
        <p>{{'metrics_filters_title_min_age' | translate }}</p>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>{{'metrics_filters_input_min_age' | translate }}</mat-label>
          <input matInput type="number" formControlName="min_age" matNumberInput>
        </mat-form-field>
      </div>

      <div *ngIf="this.origin !== 'table-client' && this.origin !== 'table-ethnicity' && this.origin !== 'table-gender' && this.origin !== 'table-location' && this.origin !== 'table-delivered' && this.origin !== 'table-delivered-beneficiary-summary' && this.origin !== 'table-ticket'">
        <br>
        <p>{{'metrics_filters_title_max_age' | translate }}</p>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>{{'metrics_filters_input_max_age' | translate }}</mat-label>
          <input matInput type="number" formControlName="max_age" matNumberInput>
        </mat-form-field>
      </div>
    </form>
  </div>
  <div class="dialog-footer" mat-dialog-actions>
    <button class="ui-button" (click)="onClickCancelar()">{{'dialog_download_ticket_csv_button_cancel' | translate
      }}</button>
    <button class="ui-button--ui-secundario" (click)="onClickAceptar()" [disabled]="!filterForm.valid">{{'dialog_download_ticket_csv_button_apply' | translate
    }}</button>
  </div>
</div>
